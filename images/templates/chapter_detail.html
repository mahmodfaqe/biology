{% extends "base.html" %}
{% block content %}
<div class="chapter-detail-container">
  <div class="chapter-header-section">
    <div class="chapter-hero">
      <div class="chapter-meta">
        <span class="chapter-badge">{{ t.chapter }} {{ chapter.order }}</span>
        <div class="chapter-stats">
          <span><i class="fas fa-eye"></i> {{ chapter.view_count }} views</span>
          <span><i class="fas fa-images"></i> {{ slides|length }} slides</span>
        </div>
      </div>
      <h1 class="chapter-title">{{ chapter.get_title(lang) }}</h1>
      <p class="chapter-description">{{ chapter.get_description(lang) }}</p>
    </div>
  </div>

  <div class="slides-container">
    {% for slide in slides %}
    <div class="slide-card" data-slide="{{ loop.index }}">
      <div class="slide-header">
        <div class="slide-number">{{ slide.order }}</div>
        <h3 class="slide-title">{{ slide.get_title(lang) }}</h3>
      </div>

      {% if slide.image_url %}
      <div class="slide-image">
        <img src="{{ slide.image_url }}" alt="{{ slide.get_title(lang) }}" loading="lazy">
      </div>
      {% endif %}

      <div class="slide-content">
        <div class="slide-description">{{ slide.get_content(lang) }}</div>

        {% if slide.location or slide.functions or slide.components %}
        <div class="slide-details">
          {% if slide.location %}
          <div class="detail-item">
            <strong><i class="fas fa-map-marker-alt"></i> Location:</strong>
            <span>{{ slide.location }}</span>
          </div>
          {% endif %}

          {% if slide.functions %}
          <div class="detail-item">
            <strong><i class="fas fa-cogs"></i> Functions:</strong>
            <span>{{ slide.functions }}</span>
          </div>
          {% endif %}

          {% if slide.components %}
          <div class="detail-item">
            <strong><i class="fas fa-puzzle-piece"></i> Components:</strong>
            <span>{{ slide.components }}</span>
          </div>
          {% endif %}
        </div>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endblock %}